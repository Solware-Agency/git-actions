name: Reusable Discord Notifier

on:
  workflow_call:
    # Ya no necesitamos definir 'secrets:' aqu√≠ si usamos 'inherit'
    # pero es buena pr√°ctica dejarlo as√≠ para que el job sepa qu√© usar.

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Discord Notification
        uses: sarisia/actions-status-discord@v1
        with:
          # IMPORTANTE: Aqu√≠ debe decir el nombre del SECRETO de la ORG
          webhook: ${{ secrets.GLOBAL_DISCORD_WEBHOOK }}
          status: ${{ job.status }}
          title: "üì¢ Cambio en: ${{ github.repository }}"
          description: |
            **Evento:** `${{ github.event_name }}`
            **Autor:** `${{ github.actor }}`
            **Mensaje:** ${{ github.event.head_commit.message || github.event.pull_request.title }}
          url: ${{ github.event.html_url || github.event.pull_request.html_url }}
          color: 0x5865F2
